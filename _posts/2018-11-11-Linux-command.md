---
layout: post
title: Linux常用命令
Author: TheronZhao
tags: Linux
---

| 通配符 | 含义                                                         |
| :----- | ------------------------------------------------------------ |
| *      | 文件代表文件名中所有字符                                     |
| ？     | 代表文件名中任意一个字符                                     |
| []     | [”和“]”将字符组括起来，表示可以匹配字符组中的任意一个。“-”用于表示字符范围 |
| \      | 如果要使通配符作为普通字符使用，可以在其前面加上转义字符。“?”和“*”处于方括号内时不用使用转义字符就失去通配符的作用。 |

## man	& --help

```shell
$ command [-options] [parameter]
    command：命令名，相应功能的英文单词或单词的缩写
    [-options]：选项，可用来对命令进行控制，也可以省略
    parameter：传给命令的参数，可以是 零个、一个 或者 多个

# 查看命令帮助信息
$ command --help  

# 查阅 command 命令的使用手册
$ man command   # man,manual缩写
	空格键	显示手册页的下一屏
	Enter 键	一次滚动手册页的一行
	b	回滚一屏
	f	前滚一屏
	q	退出
	/word	搜索 word 字符串
```



## ls

- 查看文件信息, -a	显示指定目录下所有子目录与文件，包括隐藏文件;	-l	以列表方式显示文件的详细信息;	-h	显示文件大小

## tree

- 以树状方式显示目录信息

## clear

- 清屏, 类似于DOS的cls清屏功能，也可使用快捷键：Ctrl + l ( “l” 为字母 )。

## cd

- 切换工作目录

## pwd

- 显示当前路径

## mkdir

- 创建目录	-p	递归创建目录

## rmdir

- 删除空目录

## rm

- 删除文件,删除后不能恢复

- | 命令选项 | 说明                                 |
    | :------- | :----------------------------------- |
    | -i       | 交互式提示                           |
    | -r       | 递归删除目录及其内容                 |
    | -f       | 强制删除，忽略不存在的文件，无需提示 |
    | -d       | 删除空目录                           |

## cp

- 拷贝,相当于DOS下的copy命令

- | 命令选项 | 说明                 |
    | :------- | :------------------- |
    | -i       | 交互式提示           |
    | -r       | 递归拷贝目录及其内容 |
    | -v       | 显示拷贝后的路径描述 |
    | -a       | 保留文件的原有权限   |

- `cp 文件/目录 新路径`

## mv

- 移动文件或目录，也可以给文件或目录重命名

- | 命令选项 | 说明                 |
    | :------- | :------------------- |
    | -i       | 交互式提示           |
    | -v       | 显示移动后的路径描述 |
    | -f       | 忽略已经存在的文件   |
    | -i       | 在覆盖文件之前确认   |

- `mv 文件/目录路径 新路径`

## touch

- 创建一个空文件

## >     &     >>

- 将命令执行结果重定向到一个文件

- | 命令 | 说明                                                       |
    | :--- | :--------------------------------------------------------- |
    | >    | 如果文件存在会覆盖原有文件内容，相当于文件操作中的‘w’模式  |
    | >>   | 如果文件存在会追加写入文件末尾，相当于文件操作中的‘a’ 模式 |

- `ll > a.txt`	`ll >> a.txt`

## cat

- 查看或者合并文件内容. 查看:`cat 文件` 合并:`cat 文件1 文件2 > 文件3`
- 适合查看小型文件

## more

- 分屏查看内容,按下空格键可以显示下一页，按下q键退出显示，按下h键可以获取帮助,enter显示下一行 `more a.txt`
- 适合查看大文件

## tail

- 用于查看文件的内容，有一个常用的参数 **-f** 常用于查阅正在改变的日志文件。
- `tail -f filename` 会把 filename 文件里的最尾部的内容显示在屏幕上，并且不断刷新，只要 filename 更新就可以看到最新的文件内容。

## |	管道

- 一个命令的输出可以通过管道做为另一个命令的输入	` ll | more`

## gedit 

- 文件编辑命令，可以查看和编辑文件

## ln

- 建立文件链接.软链接：软链接不占用磁盘空间，源文件删除则软链接失效。硬链接：硬链接只能链接普通文件，不能链接目录。-s	有则表示创建软链接,无则表示创建硬链接	
- 源文件删除,软连接失效,但是硬链接不失效
- `ln -s 源文件 链接文件`

## grep

- 文本查找.对文本文件进行模式查找,打印包含模式的所有行.允许使用正则表达式.

- | 命令选项 | 说明                       |
    | :------- | :------------------------- |
    | -i       | 忽略大小写                 |
    | -n       | 显示匹配行号               |
    | -v       | 显示不包含匹配文本的所有行 |

- `grep [-选项] ‘搜索内容串’ 文件名`

## find

- 在特定的目录下搜索符合条件的文件或者目录, 可使用通配符	-name	根据文件名查找	-size	根据文件大小查找	-perm	根据权限值查找
- `find ./ -name '*.sh'`查找当前目录下所有后缀为.sh的文件
- `find ./ -size +4k -size -5M`查找当前目录下大于4k，小于5M的文件
- `find ./ -perm 777`查找当前目录下权限为 777 的文件或目录

## tar

| 选项 | 说明                                 |
| :--- | :----------------------------------- |
| -c   | 创建打包文件                         |
| -x   | 解包                                 |
| -v   | 显示打包或者解包的详细信息           |
| -f   | 指定文件名称, 必须放到所有选项后面   |
| -z   | 压缩或解压缩(.gz), `.gz`占用空间最少 |
| -j   | 压缩或解压缩(.bz2)                   |
| -C   | 解压缩到指定目录                     |
| -t   | 列出档案中包含的文件                 |

- 压缩成`.gz`	--	`tar -zcvf 包名 要压缩的文件`
- 压缩成`.bz2` -- `tar -jcvf 包名 要压缩的文件`
- 解压缩`.gz`  --  `tar -zxvf 包名 -C 某个路径`
- 解压缩`.bz2`  --  `tar -jxvf 包名 -C 某个路径`

## zip    &    unzip

- 压缩成`.zip`	-d	解压缩到指定目录
- 压缩`zip 包名 要压缩的文件`
- 解压`unzip 包名 -d 某个路径`

## which

- 查看命令位置
- `which ls`   返回 /bin/ls

## chmod

- 修改文件权限,字母法与数字法
- 字母法：chmod u/g/o/a +/-/= rwx 文件    `chmod u -r a.txt`    `chmod u=rw,g=x,o=r a.txt`
- 数字法：读取权限"4",写入权限"2",执行权限"1",不具任何权限"0"    `chmod u=6,g=1,o=0 filename`,可简写为`chmod 610 filename`, -R参数表示目录下所有文件权限都改为指定

## whoami

- 查看当前用户

## who

- 查看当前所有登录系统的用户信息

- | 选项          | 含义                                 |
    | :------------ | ------------------------------------ |
    | -q或--count   | 只显示用户的登录账号和登录用户的数量 |
    | -u或--heading | 显示列标题                           |

## id

- 查看用户信息

## su

- 切换用户  `su -用户名`

## useradd

- 创建（添加）用户

- | 选项 | 说明                                                       |
    | ---- | ---------------------------------------------------------- |
    | -m   | 自动创建用户猪主目录，主目录的名字就是用户名               |
    | -g   | 指定用户所属的用户组，默认不指定会自动创建一个同名的用户组 |

- 创建用户如果不指定用户组，默认会自动创建一个同名的用户组

## userdel

- 删除用户  -r 删除用户主目录,必须要设置

## usermod

- 修改用户信息

- | 命令 | 说明           |
    | ---- | -------------- |
    | -G   | 设置一个附加组 |
    | -g   | 修改用户组     |

## sudo

- | 命令    | 说明                                                     |
    | ------- | -------------------------------------------------------- |
    | sudo -s | 切换到root用户，获取管理员权限                           |
    | sudo    | 某个命令的执行需要获取管理员权限可以在执行命令前加上sudo |

## passwd

- 设置用户密码    `sudo passwd 用户名`然后修改密码,没有sudo权限则只能修改本用户的密码

## reboot

- 重新启动操作系统

## exit

- 如果是图形界面，退出当前终端；
- 如果是使用ssh远程登录，退出登陆账户；
- 如果是切换后的登陆用户，退出则返回上一个登陆账号。

## shutdown

- | 命令              | 含义                                       |
    | :---------------- | ------------------------------------------ |
    | shutdown –r now   | 重新启动操作系统，shutdown会给别的用户提示 |
    | shutdown -h now   | 立刻关机，其中now相当于时间为0的状态       |
    | shutdown -h 20:25 | 系统在今天的20:25 会关机                   |
    | shutdown -h +10   | 系统再过十分钟后自动关机                   |

## FTP

FTP 是File Transfer Protocol（文件传输协议）的英文简称，而中文简称为“文传协议”。

用于Internet上的控制文件的双向传输。

同时，它也是一个应用程序（Application）。基于不同的操作系统有不同的FTP应用程序，而所有这些应用程序都遵守同一种协议以传输文件。

在FTP的使用当中，用户经常遇到两个概念："下载"（Download）和"上传"（Upload）。

"下载"文件就是从远程主机拷贝文件至自己的计算机上；

"上传"文件就是将文件从自己的计算机中拷贝至远程主机上。用Internet语言来说，用户可通过客户机程序向（从）远程主机上传（下载）文件。

```shell
ftp  IP  # 远程登陆
put somefile  # 上传文件
get somefile  # 下载文件
```

## SSH

- 远程登陆

SSH 为建立在应用层和传输层基础上的安全协议。

SSH是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。常用于远程登录，以及用户之间进行资料拷贝。

利用SSH协议可以有效防止远程管理过程中的信息泄露问题。

```shell
$ ssh 用户名@ip地址  # 然后输入用户名的密码
```

## SCP

- 远程拷贝, scp是基于ssh进行远程文件拷贝的命令
- 远程拷贝文件
    - scp 本地文件 远程服务器用户名@远程服务器ip地址：指定拷贝到远程服务器的路径
    - scp 远程服务器用户名@远程服务器ip地址：远程服务器文件 指定拷贝到本地电脑的路径

- 远程拷贝目录,`scp -r ...` 

## 软件包操作

```
sudo apt-get update  更新源

sudo apt-get install package 安装包

sudo apt-get remove package 删除包

sudo apt-cache search package 搜索软件包

sudo apt-cache show package  获取包的相关信息，如说明、大小、版本等

sudo apt-get install package --reinstall   重新安装包

sudo apt-get -f install   修复安装

sudo apt-get remove package --purge 删除包，包括配置文件等

sudo apt-get build-dep package 安装相关的编译环境

sudo apt-get upgrade 更新已安装的包

sudo apt-get dist-upgrade 升级系统

sudo apt-cache depends package 了解使用该包依赖那些包

sudo apt-cache rdepends package 查看该包被哪些包依赖

sudo apt-get source package  下载该包的源代码

sudo apt-get clean && sudo apt-get autoclean 清理无用的包

sudo apt-get check 检查是否有损坏的依赖
```

## ping

- 测试远程主机连通性

## ifconfig

- 查看或配置网卡信息
- `sudo ifconfig ens33 192.168.159.128`

## curl

- 测试网络和url的联通性，模拟正常的网络访问
- 支持包括HTTP、HTTPS、ftp等众多协议，还支持POST、cookies、认证、从指定偏移处下载部分文件等功能
- 参考链接：https://www.ruanyifeng.com/blog/2019/09/curl-reference.html

## netstat

- 显示网络连接的端口

- | 参数 | 说明                                     |
    | ---- | ---------------------------------------- |
    | -a   | 显示所有选项，默认不显示LISTEN相关       |
    | -u   | 仅显示udp相关选项                        |
    | -t   | 仅显示tcp相关选项                        |
    | -n   | 拒绝显示别名，能显示数字的全部转化成数字 |

## lsof

- lsof(list open files)是一个列出当前系统打开文件的工具
- lsof -i 用以显示符合条件的进程情况，可以加端口号，查看端口被谁占用
- `lsof -i:端口号`